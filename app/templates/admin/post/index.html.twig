{% extends "base.html.twig" %}

{% block title %}
{{parent()}}
-
{{title}}
{% endblock %}

{% block body %}
<h1 class="posts-title jumbotron">{{title}}</h1>
{% for message in messages %}
{% if message.type == "error" %}
<div class="alert alert-danger">
	{% elseif message.type == "success" %}
	<div class="alert alert-success">
		{% endif %}
		{{message.content}}
	</div>
	{% endfor %}
	<div class="container-fluid">
		<a href="index.php?admin-post=form" class="btn btn-primary" style="margin-bottom:20px;">Ajouter</a>
		<table class="table table-striped table-bordered">
			<thead>
				<tr>
					<th>Titre</th>
					<th>Visible</th>
					<th>Création</th>
					<th>Mis à jour</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody>
				{% for post in posts %}
				<tr>
					<td>{{post.title}}</td>
					<td>
						{% if post.active %}
						Actif
						{% else %}
						Inactif
						{% endif %}
					</td>
					<td>{{post.createdAt|date('d-m-Y')}}</td>
					<td>
						{% if post.updatedAt is not null %}
						{{post.updatedAt|date('d-m-Y')}}
						{% endif %}
					</td>
					<td width="250">
						<div class="row">
							<a href="index.php?post={{post.id}}" class="btn btn-info">Voir</a>
							<a href="index.php?admin-post=form&amp;id_post={{post.id}}"
								class="btn btn-success">Modifier</a>
							<form action="index.php?admin-post=delete&amp;id_post={{post.id}}" method="POST"
								onclick="return confirm('Êtes-vous sûre ?')">
								<input type="hidden" name="_method" value="DELETE">
								<button class="btn btn-danger">
									<span class="glyphicon glyphicon-remove">supprimer</span>
								</button>
							</form>
						</div>
					</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>

	{% endblock %}