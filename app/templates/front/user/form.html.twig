{% extends "base.html.twig" %}

{% set title = edit?'Mise à jour du profil':'Inscription' %}

{% block title %}
{{parent()}}
-
{{title}}
{% endblock %}

{% block body %}
<div class="container">
    <form action="/user/form" method="POST">
        <div class="mb-3 form-group">
            <label for="name" class="form-label">Pseudo</label>
            <input type="text" class="form-control {{errors.name ? 'is-invalid':''}}" name="name" id="name"
                value="{{user.getName}}">
            {% if errors.name %}
            <div class="invalid-feedback">
                {{errors.name|raw}}
            </div>
            {% endif %}
        </div>
        <div class="mb-3 form-group">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control {{errors.email ? 'is-invalid':''}}" name="email" id="email"
                value="{{user.getEmail}}">
            {% if errors.email %}
            <div class="invalid-feedback">
                {{errors.email|raw}}
            </div>
            {% endif %}
        </div>
        {% if edit == false %}
        <div class="mb-3 form-group">
            <label for="pwd" class="form-label">Mot de passe</label>
            <input type="password" class="form-control {{errors.pwd ? 'is-invalid':''}}" name="pwd" id="pwd">
            {% if errors.pwd %}
            <div class="invalid-feedback">
                {{errors.pwd|raw}}
            </div>
            {% endif %}
        </div>
        <div class="mb-3 form-group">
            <label for="confirm" class="form-label">Confirmation</label>
            <input type="password" class="form-control {{errors.confirm ? 'is-invalid':''}}" name="confirm"
                id="confirm">
            {% if errors.confirm %}
            <div class="invalid-feedback">
                {{errors.confirm|raw}}
            </div>
            {% endif %}
        </div>
        {% endif %}

        <input type="hidden" id="user-form-submit" value="true">
        <input type="submit" class="btn btn-success">
    </form>
    {% if edit %}
    <div class="form-group">
        <a href="/user/lost-pwd">Réinitialiser mot de passe</a>
    </div>
    {% endif %}
    <br>
    <a href="/">
        <button class="btn btn-outline-info">Retour à l'accueil</button>
    </a>
</div>
{% endblock %}